<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food Oishi | menu</title>
    <link rel="stylesheet" href="menu.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
</head>
<body>
    <header class="header">
        <nav class="product-item">
            <div class="nav-left">
                <a href="/home/home.html" class="logo">
                    <img src="./img-menu/logo.png" alt="logo" class="logo-img">
                </a>
                <div class="items">
                    <ul>
                        <li><a href="/menu/menu.html">THỰC ĐƠN</a></li>
                        <li><a href="/restaurant-system/about-us.html">HỆ THỐNG NHÀ HÀNG</a></li>
                    </ul>
                </div>
            </div>
            <div class="nav-right">
                <a href="/login-signup/login.html" class="user-icon">
                    <img src="./img-menu/user.png" alt="user-icon" class="user-img">
                </a>
                <a href="/cart/cart.html" class="cart">
                    <img src="./img-menu/cart.png" alt="cart" class="cart-img">
                </a>
            </div>
        </nav>
    </header>
    <main class="main">
        <div class="menu-container">
            <!-- radio -->
            <input type="radio" name="menu_tab_control" id="tab_pizza" checked>
            <input type="radio" name="menu_tab_control" id="tab_ga">
            
            <!-- ~ label -->
            <div class="tab-header-list">
                <label for="tab_pizza" class="tab-header">Pizza</label>
                <label for="tab_ga" class="tab-header">Gà</label>
            </div>

            <!-- tab content --> 
            <div class="tab-content-list">
                <div class="tab-content pizza-content">
                    <h2 class="content-title">SIÊU TOPPING (Pizza)</h2>
                    
                    
                    <!-- đoạn menu-list(menu-item): asp viết cho nó tự khởi tạo đi, tránh lặp code như ở dưới. -->
                    <div class="menu-list">
                        <div class="menu-item">
                            <div class="menu-item-img">
                                <a href="#">
                                    <img src="./img-menu/KHUYEN MAI.jpg" alt="">
                                </a>
                            </div>
                            <div class="menu-item-title">
                                <a href="#" class="product-name">PIZZA SIÊU TOPPING HẢI SẢN NHIỆT ĐỚI XỐT TIÊU</a>
                                <div class="product-price">9 inch - 235,000đ</div>
                            </div>
                            <div class="menu-item-buy">
                                <button class="add-to-cart">CHỌN MUA</button>
                            </div>
                        </div>
                        <div class="menu-item">
                            <div class="menu-item-img">
                                <a href="#">
                                    <img src="./img-menu/KHUYEN MAI.jpg" alt="">
                                </a>
                            </div>
                            <div class="menu-item-title">
                                <a href="#" class="product-name">PIZZA SIÊU TOPPING HẢI SẢN NHIỆT ĐỚI XỐT TIÊU</a>
                                <div class="product-price">9 inch - 235,000đ</div>
                            </div>
                            <div class="menu-item-buy">
                                <button class="add-to-cart">CHỌN MUA</button>
                            </div>
                        </div>
                        <div class="menu-item">
                            <div class="menu-item-img">
                                <a href="#">
                                    <img src="./img-menu/KHUYEN MAI.jpg" alt="">
                                </a>
                            </div>
                            <div class="menu-item-title">
                                <a href="#" class="product-name">PIZZA SIÊU TOPPING HẢI SẢN NHIỆT ĐỚI XỐT TIÊU</a>
                                <div class="product-price">9 inch - 235,000đ</div>
                            </div>
                            <div class="menu-item-buy">
                                <button class="add-to-cart">CHỌN MUA</button>
                            </div>
                        </div>
                        <div class="menu-item">
                            <div class="menu-item-img">
                                <a href="#">
                                    <img src="./img-menu/KHUYEN MAI.jpg" alt="">
                                </a>
                            </div>
                            <div class="menu-item-title">
                                <a href="#" class="product-name">PIZZA SIÊU TOPPING HẢI SẢN NHIỆT ĐỚI XỐT TIÊU</a>
                                <div class="product-price">9 inch - 235,000đ</div>
                            </div>
                            <div class="menu-item-buy">
                                <button class="add-to-cart">CHỌN MUA</button>
                            </div>
                        </div>
                        <div class="menu-item">
                            <div class="menu-item-img">
                                <a href="#">
                                    <img src="./img-menu/KHUYEN MAI.jpg" alt="">
                                </a>
                            </div>
                            <div class="menu-item-title">
                                <a href="#" class="product-name">PIZZA SIÊU TOPPIN TIÊU</a>
                                <div class="product-price">9 inch - 235,000đ</div>
                            </div>
                            <div class="menu-item-buy">
                                <button class="add-to-cart">CHỌN MUA</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-content ga-content">
                    <h2 class="content-title">GÀ</h2>


                    <!-- đoạn menu-list(menu-item): asp viết cho nó tự khởi tạo đi, tránh lặp code như ở dưới. -->
                    <div class="menu-list">
                        <div class="menu-item">
                            <div class="menu-item-img">
                                <a href="#">
                                    <img src="./img-menu/KHUYEN MAI.jpg" alt="">
                                </a>
                            </div>
                            <div class="menu-item-title">
                                <a href="#" class="product-name">PIZZA SIÊU TOPPING HẢI SẢN NHIỆT ĐỚI XỐT TIÊU</a>
                                <div class="product-price">9 inch - 235,000đ</div>
                            </div>
                            <div class="menu-item-buy">
                                <button class="add-to-cart">CHỌN MUA</button>
                            </div>
                        </div>
                        <div class="menu-item">
                            <div class="menu-item-img">
                                <a href="#">
                                    <img src="./img-menu/KHUYEN MAI.jpg" alt="">
                                </a>
                            </div>
                            <div class="menu-item-title">
                                <a href="#" class="product-name">PIZZA SIÊU TOPPING HẢI SẢN NHIỆT ĐỚI XỐT TIÊU</a>
                                <div class="product-price">9 inch - 235,000đ</div>
                            </div>
                            <div class="menu-item-buy">
                                <button class="add-to-cart">CHỌN MUA</button>
                            </div>
                        </div>
                        <div class="menu-item">
                            <div class="menu-item-img">
                                <a href="#">
                                    <img src="./img-menu/KHUYEN MAI.jpg" alt="">
                                </a>
                            </div>
                            <div class="menu-item-title">
                                <a href="#" class="product-name">PIZZA SIÊU TOPPING HẢI SẢN NHIỆT ĐỚI XỐT TIÊU</a>
                                <div class="product-price">9 inch - 235,000đ</div>
                            </div>
                            <div class="menu-item-buy">
                                <button class="add-to-cart">CHỌN MUA</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- popup chi tiết sản phẩm -->
        <div id="product-detail-popup" class="modal-overlay">
            <div class="modal-content">
                <button class="close-btn">×</button>
                <div class="popup-inner-content">
                    <div id="popup-product-img">
                        <img src="#" alt="Ảnh sản phẩm chi tiết">
                    </div>
                    <h2 id="popup-product-name">Tên Sản Phẩm (Popup)</h2>
                    <div class="product-description">
                        <h3>Mô tả sản phẩm</h3>
                        <p id="popup-product-desc">Đây là nơi mô tả sản phẩm chi tiết. Dữ liệu này sẽ được ASP gán vào data-* và JS hiển thị.</p>
                    </div>
                    <p id="popup-product-price">Giá: 235,000đ</p>
                    <div class="quantity-control">
                        <h3>số lượng</h3>
                        <div class="quantity-button">
                            <button class="qty-btn" data-action="minus">-</button>
                            <input type="text" value="1" readonly id="qty-input" name="quantity">
                            <button class="qty-btn" data-action="plus">+</button>
                        </div>
                    </div>
                    <button class="add-to-cart-popup">Thêm Vào Giỏ Hàng: 235,000đ</button>  <!--giá cập lại bằng asp-->
                </div>
            </div>
        </div>
    </main>
    <footer class="footer">
        <div class="footer-inner">
            <div class="footer-left">
                <a href="/home/home.html" class="footer-logo">
                    <img src="./img-menu/logo.png" alt="logo" class="logo-img">
                </a>
                <div class="hotline">
                    <p class="hotline-text"><i class="fa-solid fa-phone"></i>Hotline Đặt Hàng</p>
                    <p class="hotline-number">1900 6099</p>
                </div>
            </div>
            <div class="footer-middle">
                <div class="office-list">
                    <p>VĂN PHÒNG ĐẠI DIỆN</p>
                </div>
                <div class="office-content">
                    <div class="office-name">
                        <p>CÔNG TY LIÊN DOANH TNHH FOOD OISHI</p>
                    </div>
                    <div class="contact-info-description">
                        <p class="office-info">Số 292 Bà Triệu, P. Lê Đại Hành, Q. Hai Bà Trưng, TP. Hà Nội.</p>
                        <p class="office-info">Email: lienhe@gmail.com.vn</p>
                        <p class="office-info">Điện thoại: (028) 38489828</p>
                    </div>
                </div>
            </div>
            <div class="footer-right">
                <div class="about-us-text">
                    <p>Kết nối với Food Oishi tại các nền tảng</p>
                </div>
                <div class="about-us-link">
                    <a href="#">
                        <img src="./img-menu/facebook.png" alt="facebook" class="facebook-img">
                    </a>
                    <a href="#">
                        <img src="./img-menu/twitter.png" alt="twitter" class="twitter-img">
                    </a>
                    <a href="#">
                        <img src="./img-menu/linkedin.png" alt="linkedin" class="linkedin-img">
                    </a>
                </div>
            </div>
        </div>
    </footer>
</body>

<!-- popup chi tiết sản phẩm (muốn lấy được dữ liệu của từng sản phẩm và show lên popup (chi tiết sản phẩm)
thì sử dụng .dataset. ví dụ: asp dùng cú pháp data-id="<%= rs("ProductID") %>" thì js sẽ có đoạn const productID = menuItem.dataset.id;
để lấy giá trị từ data-id) -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
    const productNameLinks = document.querySelectorAll('.product-name');
    const popup = document.getElementById('product-detail-popup');
    const popupName = document.getElementById('popup-product-name');
    const popupPrice = document.getElementById('popup-product-price');
    const addToCartPopupBtn = popup.querySelector('.add-to-cart-popup');
    const popupDesc = document.getElementById('popup-product-desc');
    const popupImgContainer = document.getElementById('popup-product-img');
    const popupImg = popupImgContainer ? popupImgContainer.querySelector('img') : null;

    let closeBtn = null;
    if (popup) {
        closeBtn = popup.querySelector('.close-btn');
    } else {return;} // Dừng nếu không tìm thấy popup


    // mở popup
    function openPopup(menuItemData) {
        // Lấy dữ liệu từ dataset (giả sử ASP ông đã in ra)
        const name = menuItemData.dataset.name;
        const price = menuItemData.dataset.price;
        const description = menuItemData.dataset.description;
        const imageSrc = menuItemData.dataset.image; // Lấy đường dẫn ảnh
        
        // cập nhật nội dung
        if (popupImg) popupImg.src = imageSrc;
        if (popupName) popupName.textContent = `Tên sản phẩm ở đây${name}`;
        if (popupPrice) popupPrice.textContent = `Giá: ${price}đ`;
        if (popupDesc) popupDesc.textContent = description;
        if (addToCartPopupBtn) addToCartPopupBtn.textContent = `Thêm Vào Giỏ Hàng ${price}đ`;

        // Hiển thị popup
        popup.classList.add('active');
        document.body.style.overflow = 'hidden';
    }

    // Hàm đóng popup
    function closePopup() {
        popup.classList.remove('active');
        document.body.style.overflow = '';
    }
    // mở popup
    productNameLinks.forEach(link => {
        link.addEventListener('click', function(event) {
            event.preventDefault();
            const menuItem = link.closest('.menu-item');
            if (menuItem) {
                openPopup(menuItem);
            }
        });
    });
    // Đóng popup
    if (closeBtn) {
        closeBtn.addEventListener('click', closePopup);
    }
    // Đóng popup (click ra ngoài)
    popup.addEventListener('click', function(event) {
        if (event.target === popup) {
            closePopup();
        }
    });
    // ESC
    document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape' && popup.classList.contains('active')) {
            closePopup();
        }
    });


    //số lượng (thanh quantity)
    const quantityControl = popup.querySelector('.quantity-control');
    const qtyInput = document.getElementById('qty-input');
    
    if (quantityControl && qtyInput) {
        quantityControl.querySelectorAll('.qty-btn').forEach(button => {
            button.addEventListener('click', function(event) {
                let currentValue = parseInt(qtyInput.value);
                const action = event.target.dataset.action; // Lấy + hoặc -

                if (action === 'minus') {
                    // Giảm số lượng, đảm bảo không nhỏ hơn 1
                    if (currentValue > 1) {
                        qtyInput.value = currentValue - 1;
                    }
                } else if (action === 'plus') {
                    // Tăng số lượng
                    qtyInput.value = currentValue + 1;
                }
            });
        });
    }
    });
</script>
</html>